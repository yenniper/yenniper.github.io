<p>All methods and properties listed on this page are public. If you want to take a look at example of what API can do, take a look in <a href="https://github.com/dimsemenov/PhotoSwipe/blob/master/src/js/ui/photoswipe-ui-default.js">source of default PhotoSwipe UI</a>.</p>

<p>You can get PhotoSwipe instance object during the initialization, e.g.:</p>

<p><code class="highlighter-rouge">javascript
var photoswipeInstance = new PhotoSwipe( /* ... */ );
</code></p>

<h2 id="methods">Methods</h2>

<p>```javascript
var pswp = new PhotoSwipe( /* … */ );</p>

<p>// Initialize and open gallery
// (you can bind events before this method)
pswp.init();</p>

<p>// Go to slide by index
// @param {int} <code class="highlighter-rouge">index</code>
pswp.goTo(index);</p>

<p>// Go to the next slide
pswp.next();</p>

<p>// Go to the previous slide
pswp.prev();</p>

<p>// Update gallery size
// @param  {boolean} <code class="highlighter-rouge">force</code> If you set it to <code class="highlighter-rouge">true</code>, 
// 							size of the gallery will be updated 
// 							even if viewport size hasn’t changed.
pswp.updateSize(force);</p>

<p>// Close gallery
pswp.close();</p>

<p>// Destroy gallery,
// automatically called after close() 
pswp.destroy()</p>

<p>// Zoom current slide to (optionally with animation)
// @param  {number}   <code class="highlighter-rouge">destZoomLevel</code> Destination scale number. 1 - original.<br />
// 								     pswp.currItem.fitRatio - image will fit into viewport.
// @param  {object}   <code class="highlighter-rouge">centerPoint</code>   Object of x and y coordinates, relative to viewport.
// @param  {int}      <code class="highlighter-rouge">speed</code>         Animation duration. Can be 0.
// @param  {function} <code class="highlighter-rouge">easingFn</code>      Easing function (optional). Set to false to use default easing.
// @param  {function} <code class="highlighter-rouge">updateFn</code>      Function will be called on each update frame. (optional)
//
// Example below will 2x zoom to center of slide:
// pswp.zoomTo(2, {x:pswp.viewportSize.x/2,y:pswp.viewportSize.y/2}, 2000, false, function(now) {
// 		
// });
pswp.zoomTo(destZoomLevel, centerPoint, speed, easingFn, updateFn);</p>

<p>// Apply zoom and pan to the current slide
// 
// @param   {number} <code class="highlighter-rouge">zoomLevel</code>
// @param   {int}    <code class="highlighter-rouge">panX</code>
// @param   {int}    <code class="highlighter-rouge">panY</code>
// 
// For example: <code class="highlighter-rouge">pswp.applyZoomPan(1, 0, 0)</code>
// will zoom current image to the original size
// and will place it on top left corner
// 
// 
pswp.applyZoomPan(zoomLevel, panX, panY);
```</p>

<h2 id="properties">Properties</h2>

<p>```javascript</p>

<p>// current slide object
pswp.currItem</p>

<p>// items array (slides, images)
pswp.items</p>

<p>// size of sliding viewport
pswp.viewportSize</p>

<p>// object holds all functions from framework
// framework-bridge.js
pswp.framework</p>

<p>// UI object (e.g. PhotoSwipeUI_Default instance)
pswp.ui</p>

<p>// background element (pswp__bg)
pswp.bg</p>

<p>// container element (pswp__container)
pswp.container</p>

<p>// options
pswp.options</p>

<p>// Even though methods below aren’t technically properties, we list them here:</p>

<p>// current item index (int)
pswp.getCurrentIndex();</p>

<p>// total number of items
pswp.options.getNumItemsFn()</p>

<p>// current zoom level (number)
pswp.getZoomLevel();</p>

<p>// one (or more) pointer is used
pswp.isDragging();</p>

<p>// two (or more) pointers are used
pswp.isZooming();</p>

<p>// <code class="highlighter-rouge">true</code> when transition between is running (after swipe)
pswp.isMainScrollAnimating();
```</p>

<h2 id="events">Events</h2>

<p>PhotoSwipe uses very simple Event/Messaging system. It has two methods <code class="highlighter-rouge">shout</code> (triggers event) and <code class="highlighter-rouge">listen</code> (handles event). For now there is no method to unbind listener, but all of them are cleared when PhotoSwipe is closed.</p>

<p>```javascript
var pswp = new PhotoSwipe(/* … */);</p>

<p>// Listen for “helloWorld” event
pswp.listen(‘helloWorld’, function(name) {
	alert(‘Name is: ‘ + name);
});</p>

<p>// Trigger “helloWorld” event
pswp.shout(‘helloWorld’, ‘John’ /* you may pass more arguments */);
```</p>

<p>Available events:</p>

<p>```javascript</p>

<p>// Before slides change
// (before the content is changed, but after navigation)
// Update UI here (like “1 of X” indicator)
pswp.listen(‘beforeChange’, function() { });</p>

<p>// After slides change
// (after content changed)
pswp.listen(‘afterChange’, function() { });</p>

<p>// Image loaded
pswp.listen(‘imageLoadComplete’, function(index, item) { 
	// index - index of a slide that was loaded
	// item - slide object
});</p>

<p>// Viewport size changed
pswp.listen(‘resize’, function() { });</p>

<p>// Triggers when PhotoSwipe “reads” slide object data,
// which happens before content is set, or before lazy-loading is initiated.
// Use it to dynamically change properties
pswp.listen(‘gettingData’, function(index, item) {
	// index - index of a slide that was loaded
	// item - slide object</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// e.g. change path to the image based on `something`
if( something ) {
	item.src = item.something;
} else {
	item.src = item.somethingElse;
} });
</code></pre>
</div>

<p>// Mouse was used (triggers only once)
pswp.listen(‘mouseUsed’, function() { });</p>

<p>// Opening zoom in animation starting
pswp.listen(‘initialZoomIn’, function() { });</p>

<p>// Opening zoom in animation finished
pswp.listen(‘initialZoomInEnd’, function() { });</p>

<p>// Closing zoom out animation started
pswp.listen(‘initialZoomOut’, function() { });</p>

<p>// Closing zoom out animation finished
pswp.listen(‘initialZoomOutEnd’, function() { });</p>

<p>// Allows overriding vertical margin for individual items
pswp.listen(‘parseVerticalMargin’, function(item) { 
	// For example:
	var gap = item.vGap;</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gap.top = 50; // There will be 50px gap from top of viewport
gap.bottom = 100; // and 100px gap from the bottom })
</code></pre>
</div>

<p>// Gallery starts closing
pswp.listen(‘close’, function() { });</p>

<p>// Gallery unbinds events
// (triggers before closing animation)
pswp.listen(‘unbindEvents’, function() { });</p>

<p>// After gallery is closed and closing animation finished.
// Clean up your stuff here.
pswp.listen(‘destroy’, function() { });</p>

<p>// Called when the page scrolls.
// The callback is passed an offset with properties {x: number, y: number}.
//
// PhotoSwipe uses the offset to determine the top-left of the template,
// which by default is the top-left of the viewport. When using modal: false,
// you should listen to this event (before calling .init()) and modify the offset
// with the template’s getBoundingClientRect().
//
// Look at the “Implementing inline gallery display” FAQ section for more info.
pswp.listen(‘updateScrollOffset’, function(_offset) {
    var r = gallery.template.getBoundingClientRect();
    _offset.x += r.left;
    _offset.y += r.top;
});</p>

<p>// PhotoSwipe has a special event called pswpTap.
// It’s dispatched using default JavaScript event model.
// So you can, for example, call stopPropagation on it.
// pswp.framework.bind - is a shorthand for addEventListener
pswp.framework.bind( pswp.scrollWrap /* bind on any element of gallery */, ‘pswpTap’, function(e) {
    console.log(‘tap’, e, e.detail);
    // e.detail.origEvent  // original event that finished tap (e.g. mouseup or touchend)
    // e.detail.target // e.target of original event
    // e.detail.releasePoint // object with x/y coordinates of tap
    // e.detail.pointerType // mouse, touch, or pen
});</p>

<p>// Allow to call preventDefault on down and up events
pswp.listen(‘preventDragEvent’, function(e, isDown, preventObj) {
	// e - original event
	// isDown - true = drag start, false = drag release</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// Line below will force e.preventDefault() on:
// touchstart/mousedown/pointerdown events
// as well as on:
// touchend/mouseup/pointerup events
preventObj.prevent = true; });
</code></pre>
</div>

<p>// Default UI events
// ————————-</p>

<p>// Share link clicked
pswp.listen(‘shareLinkClick’, function(e, target) { 
	// e - original click event
	// target - link that was clicked</p>

<div class="highlighter-rouge"><pre class="highlight"><code>// If `target` has `href` attribute and 
// does not have `download` attribute - 
// share modal window will popup });
</code></pre>
</div>

<p>```</p>

<h2 id="adding-slides-dynamically">Adding slides dynamically</h2>

<p>To add, edit, or remove slides after PhotoSwipe is opened, you just need to modify the <code class="highlighter-rouge">items</code> array. For example, you can push new slide objects into the <code class="highlighter-rouge">items</code> array:</p>

<p><code class="highlighter-rouge">javascript
pswp.items.push({
    src: "path/to/image.jpg", 
    w:1200,
    h:500 
});
</code></p>

<p>If you changed slide that is CURRENT, NEXT or PREVIOUS (which you should try to avoid) – you need to call method that will update their content:</p>

<p><code class="highlighter-rouge">javascript
// sets a flag that slides should be updated
pswp.invalidateCurrItems();
// updates the content of slides
pswp.updateSize(true);
</code></p>

<p>Otherwise, you don’t need to do anything else. Except, maybe, calling <code class="highlighter-rouge">pswp.ui.update()</code> if you want some parts of default UI to update (e.g. “1 of X” counter). Also note:</p>

<ul>
  <li>You can’t reassign whole array, you can only modify it (e.g. use <code class="highlighter-rouge">splice</code> to remove elements).</li>
  <li>If you’re going to remove current slide – call <code class="highlighter-rouge">goTo</code> method before.</li>
  <li>There must be at least one slide.</li>
  <li>This technique is used to <a href="responsive-images.html">serve responsive images</a>.</li>
</ul>

<p>Some method or property is missing? Found a grammatical mistake? Know how this page can be improved? <a href="https://github.com/dimsemenov/PhotoSwipe/blob/master/website/documentation/api.md">Please suggest an edit!</a></p>

